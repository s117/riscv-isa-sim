# top level CMake project definition for riscv-isa-sim

cmake_minimum_required(VERSION 3.1)

project(riscv-isa-sim)

set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_EXTENSIONS OFF)

add_compile_options(-Wall -Wno-unused)

# the PREFIX in the AC system (configure --prefix==AC_CONFIGURE_PREFIX)
# the configuration macro generated by configure is manually maintained in cmake version (located at config/config.h) 
set(AC_CONFIGURE_PREFIX ${CMAKE_BINARY_DIR}/install)

add_compile_definitions(PREFIX="${AC_CONFIGURE_PREFIX}")
include_directories(config)
include_directories(.)

set(SCRIPT_DIR ${CMAKE_CURRENT_SOURCE_DIR}/scripts)

add_subdirectory(fesvr)
add_subdirectory(softfloat)
add_subdirectory(riscv)
add_subdirectory(dummy_rocc)
add_subdirectory(spike_main)
